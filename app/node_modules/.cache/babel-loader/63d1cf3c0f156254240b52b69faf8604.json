{"ast":null,"code":"var _jsxFileName = \"/Users/ivisorea/Documents/Projects/aiio-technical-task/src/components/Products.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, ProductsContainer, HeaderTable, SubContainer, Article, Wrapper, ButtonWrapper, ArticleWrapper } from '../styles';\nimport { SubCategories } from './SubCategories';\nimport { TiPlus } from 'react-icons/ti';\nimport AppState, { useAppContext } from '../AppContext/appContext';\nimport { FormProvider, useFieldArray, useForm } from 'react-hook-form';\nimport { Modal } from './Modal';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Products = () => {\n  _s();\n\n  const {\n    products,\n    loading,\n    setOpenModal,\n    openModal\n  } = useAppContext(AppState);\n  const methods = useForm();\n  const {\n    register,\n    handleSubmit\n  } = methods;\n  useFieldArray({\n    control: methods.control,\n    name: 'products'\n  });\n  const [selectProducts, setSelectProducts] = useState();\n  const [selectSubCategories, setSelectSubCategories] = useState();\n  const [selectSubProducts, setSelectSubProducts] = useState();\n\n  const onSubmit = data => {\n    setSelectProducts(data.products.filter(product => product.name));\n    setSelectSubCategories(data.subCategories.filter(subCategory => subCategory.name));\n    setSelectSubProducts(data.subProducts.filter(subProduct => subProduct.name));\n    setOpenModal(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormProvider, { ...methods,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: /*#__PURE__*/_jsxDEV(ProductsContainer, {\n          children: [/*#__PURE__*/_jsxDEV(HeaderTable, {\n            children: [/*#__PURE__*/_jsxDEV(ArticleWrapper, {\n              children: /*#__PURE__*/_jsxDEV(Article, {\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                children: \"DONE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(SubContainer, {\n            children: loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 36\n            }, this) : products.map(product => /*#__PURE__*/_jsxDEV(Wrapper, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  padding: '0 1rem',\n                  marginBottom: '0.4rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: product.productName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: `product${product.productId}`,\n                  value: product.productName,\n                  ...register(`products.${product.productId}.name`)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(SubCategories, {\n                productId: product.productId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 45\n              }, this)]\n            }, product.productId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(TiPlus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 30\n            }, this), \"ADD PRODUCTS\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this), !!openModal && /*#__PURE__*/_jsxDEV(Modal, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), selectProducts && selectProducts.map(product => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: product\n      }, product, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }, this)), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"SubCategories\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), selectSubCategories && selectSubCategories.map(subCategory => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: subCategory\n      }, subCategory, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }, this)), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"SubProducts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), selectSubProducts && selectSubProducts.map(subProduct => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: subProduct\n      }, subProduct, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Products, \"jyIDFOYVi0oAhgy/qvxTHrcRBhs=\", false, function () {\n  return [useAppContext, useForm, useFieldArray];\n});\n\n_c = Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["Button","ProductsContainer","HeaderTable","SubContainer","Article","Wrapper","ButtonWrapper","ArticleWrapper","SubCategories","TiPlus","AppState","useAppContext","FormProvider","useFieldArray","useForm","Modal","useState","Products","products","loading","setOpenModal","openModal","methods","register","handleSubmit","control","name","selectProducts","setSelectProducts","selectSubCategories","setSelectSubCategories","selectSubProducts","setSelectSubProducts","onSubmit","data","filter","product","subCategories","subCategory","subProducts","subProduct","map","display","alignItems","justifyContent","padding","marginBottom","productName","productId"],"sources":["/Users/ivisorea/Documents/Projects/aiio-technical-task/src/components/Products.jsx"],"sourcesContent":["import { Button, ProductsContainer, HeaderTable, SubContainer, Article, Wrapper, ButtonWrapper, ArticleWrapper } from '../styles'\nimport { SubCategories } from './SubCategories'\nimport {TiPlus} from 'react-icons/ti'\nimport AppState, { useAppContext } from '../AppContext/appContext'\nimport { FormProvider, useFieldArray, useForm } from 'react-hook-form'\nimport { Modal } from './Modal';\nimport { useState } from 'react'\n\n\nexport const Products = () => {\n    const { products, loading, setOpenModal, openModal} = useAppContext(AppState)\n    const methods = useForm();\n    const {register, handleSubmit} = methods;\n    useFieldArray({\n        control: methods.control,\n        name: 'products',\n    });\n\n    const[selectProducts, setSelectProducts] = useState();\n    const[selectSubCategories, setSelectSubCategories] = useState();\n    const[selectSubProducts, setSelectSubProducts] = useState();\n\n   const onSubmit = (data) => {\n        setSelectProducts(data.products.filter(product => product.name))\n        setSelectSubCategories(data.subCategories.filter(subCategory => subCategory.name))\n        setSelectSubProducts(data.subProducts.filter(subProduct => subProduct.name))\n        setOpenModal(true)\n    }\n\n  return (\n    <>\n        <FormProvider {...methods}>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <ProductsContainer>\n                    <HeaderTable>\n                        <ArticleWrapper>\n                            <Article>Products</Article>\n                        </ArticleWrapper>\n                        <ButtonWrapper>\n                            <Button type='submit'>DONE</Button>\n                        </ButtonWrapper>\n                    </HeaderTable>\n                    <SubContainer>\n                        {loading ? <h1>Loading...</h1> :\n                            products.map(product => (\n                                <Wrapper key={product.productId}>\n                                    <div style={{display : 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '0 1rem', marginBottom: '0.4rem'}}>\n                                    <label>{product.productName}</label>\n                                    <input type=\"checkbox\" \n                                        name={`product${product.productId}`}\n                                        value={product.productName}\n                                        {...register(`products.${product.productId}.name`)}\n                                    />\n                                    </div>\n                                    {\n                                            <SubCategories productId={product.productId}/>\n                                    }\n                                </Wrapper>\n                            ))\n                        }\n                    </SubContainer>\n                    <Button> <TiPlus />ADD PRODUCTS</Button>\n                </ProductsContainer>\n            </form>\n        </FormProvider>\n        {\n            !!openModal && \n                <Modal>\n                    <h1>Products</h1>\n                    {\n                        selectProducts && selectProducts.map((product) => (\n                            <p key={product}>{product}</p>\n                        ))\n                    }\n                    <h1>SubCategories</h1>\n                    {\n                        selectSubCategories && selectSubCategories.map(subCategory => (\n                            <p key={subCategory}>{subCategory}</p>\n                        ))\n                    }\n                    <h1>SubProducts</h1>\n                    {\n                        selectSubProducts && selectSubProducts.map(subProduct => (\n                            <p key={subProduct}>{subProduct}</p>\n                        ))\n                    }\n                </Modal>}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}